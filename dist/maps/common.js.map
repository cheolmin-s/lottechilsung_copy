{"version":3,"sources":["common.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/common.js","sourcesContent":["var init = (function(){\r\n\r\n    var $win = $(window);\r\n    var $html = $('html,body');\r\n\r\n    //헤더 \r\n    var gnbActive = function(){\r\n\r\n        var $header = $('.common-header');\r\n        var $depth1Link = $('.depth1 > li > a');\r\n        var $newsFeed = $('.news-feed > button');\r\n        var $directLink = $('.direct a')\r\n\r\n        $depth1Link.on('mouseenter focus', function(){\r\n            $header.addClass('on');\r\n        });\r\n\r\n        $header.on('mouseleave', function(){\r\n            $header.removeClass('on');\r\n        });\r\n\r\n        $directLink.last().on('focus', function(){\r\n            $header.addClass('on');\r\n        });\r\n\r\n        $newsFeed.on('blur', function(){\r\n            $header.removeClass('on');\r\n        });\r\n\r\n        $html.on('mousewheel',function(e){\r\n            \r\n            var delta = e.originalEvent.wheelDelta;\r\n\r\n            if( delta === 120) {\r\n                $header.css('transform','translateY(0)');\r\n            } else {\r\n                $header.css('transform','translateY(-100px)');\r\n            }\r\n        });\r\n\r\n        $win.on('scroll', function(){\r\n\r\n            var st = $html.scrollTop();\r\n\r\n            if( st === 0 ){\r\n                $header.css('transform','translateY(0)');\r\n            }\r\n        });\r\n    };\r\n\r\n    //메인 비주얼 슬라이더\r\n    var mainSlider = function(){\r\n\r\n        var $slider = $('.main-banner .slider');\r\n        var $btn = $('.toggle-btn button');\r\n\r\n        $slider.touchSlider({\r\n            controls:false,\r\n            btn_prev:$('.main-banner .btn-prev'),\r\n            btn_next:$('.main-banner .btn-next'),\r\n            autoplay : {\r\n                enable: true,\r\n                pauseHover: false,\r\n                addHoverTarget:'',\r\n                interval: 5000\r\n            },\r\n            speed:400,\r\n            counter: function(e) {\r\n                $('.main-banner p').removeClass('on');\r\n                $('.main-banner .list[aria-hidden=\"false\"]').find('p').addClass('on');\r\n            },\r\n            \r\n        });\r\n\r\n        //슬라이더 재생/정지 버튼\r\n        $btn.on('click', function(){\r\n\r\n            var $this = $(this);\r\n\r\n            if( $btn.hasClass('on') ){\r\n                $slider[0].autoPlay();\r\n                $this.removeClass('on').text('슬라이더 일시정지');\r\n                \r\n            } else {\r\n                $slider[0].autoStop();\r\n                $this.addClass('on').text('슬라이더 재생');\r\n            }\r\n        });\r\n    };\r\n\r\n    //BRAND 탭메뉴\r\n    var brandTab = function(){\r\n\r\n        var $tab = $('.brand .tab');\r\n        var $panel = $('.brand .panel');\r\n        var $circle = $('.circle');\r\n\r\n        $tab.on('click', tabEvent);\r\n        $tab.on('keydown', tabKeyEvent);\r\n\r\n        function tabEvent(e){\r\n\r\n            e.stopPropagation();\r\n\r\n            var current = e.currentTarget;\r\n\r\n            tab(current);\r\n            tabPanel(current);\r\n            circle(current);\r\n        }\r\n\r\n        function tab(tab){\r\n            $(tab)\r\n                .addClass('on')\r\n                .attr({ 'tabindex': '0', 'aria-selected':'true' })\r\n                .focus()\r\n                .parent()\r\n                .siblings()\r\n                .find($tab)\r\n                .removeClass('on')\r\n                .attr({ 'tabindex': '-1', 'aria-selected':'false' })                                \r\n        };\r\n\r\n        function tabPanel(panel){\r\n            $('#' + panel.getAttribute('aria-controls'))\r\n                .attr({ tabindex:'0' })\r\n                .prop({ 'hidden': false })\r\n                .addClass('on')\r\n                .siblings($panel)\r\n                .attr({ 'tabindex': '-1' })\r\n                .prop({ 'hidden': true })\r\n                .removeClass('on')\r\n        };\r\n\r\n        function tabKeyEvent(e){\r\n\r\n            e.stopPropagation();\r\n\r\n            var keyCode = e.keycode || e.which;\r\n            var $target =  e.target.parentElement;\r\n\r\n           switch(keyCode){\r\n\r\n                case 37:\r\n                    if($target.previousElementSibling){\r\n                        $(e.target)\r\n                            .attr({'tabindex':'-1'})\r\n                            .parent()\r\n                            .prev()\r\n                            .children()                       \r\n                            .attr({'tabindex':'0'})                            \r\n                            .focus()\r\n                    } else {\r\n                        $(e.target)\r\n                            .attr({ 'tabindex':'-1' })                    \r\n                            .parent()\r\n                            .siblings(':last')\r\n                            .children()\r\n                            .attr({ 'tabindex':'0' })                            \r\n                            .focus()                            \r\n                    } break;\r\n\r\n                case 39:\r\n                    if($target.nextElementSibling){\r\n                        $(e.target)\r\n                            .attr({ 'tabindex':'-1' })                            \r\n                            .parent()\r\n                            .next()\r\n                            .children()\r\n                            .attr({ 'tabindex':'0' })                            \r\n                            .focus()\r\n                    } else {\r\n                        $(e.target)\r\n                            .attr({ 'tabindex':'-1' })                            \r\n                            .parent()\r\n                            .siblings(':first')\r\n                            .children()\r\n                            .attr({ 'tabindex':'0' })                            \r\n                            .focus()                            \r\n                    } break;\r\n\r\n                case 32:\r\n                case 13:\r\n                    e.preventDefault();\r\n\r\n                    tab(e.target);\r\n                    tabPanel(e.target);\r\n                    circle(e.target);\r\n                    break;  \r\n           }\r\n\r\n        }\r\n\r\n        function circle(circle){\r\n            \r\n            var $this = $(circle);\r\n            var $width = $this.width() / 2;\r\n            var offset = $this.position().left + $width - 5;\r\n            \r\n            $circle.stop().animate({ left : offset },200);\r\n        }\r\n\r\n        $('.tab-menu li:first-of-type .tab')\r\n            .addClass('on')\r\n            .attr({ 'tabindex': '0', 'aria-selected':'true' })\r\n            .parent()\r\n            .siblings()\r\n            .find($tab)\r\n            .attr({ 'tabindex': '-1', 'aria-selected':'false' })\r\n        ;\r\n        \r\n        $('.panel:first-of-type')\r\n            .attr({ tabindex:'0' })\r\n            .prop({ 'hidden': false })\r\n            .addClass('on')\r\n            .siblings($panel)\r\n            .attr({ 'tabindex': '-1' })\r\n            .prop({ 'hidden': true })\r\n            .removeClass('on')\r\n        ;\r\n    };\r\n\r\n    //recruit 슬라이더\r\n    var reruitSlider = function(){\r\n\r\n        var $slider = $('.recruit .slider');\r\n\r\n        $slider.touchSlider({\r\n            resize: false,\r\n            controls: false,\r\n        });\r\n    };\r\n\r\n    //섹션 sticky 스크롤 효과\r\n    var stickyScroll = function(){\r\n\r\n        var $title = $('.scroll-sticky');\r\n        var $box = $('.position');\r\n\r\n        $win.on('scroll', function(){\r\n\r\n            var st = $win.scrollTop();\r\n\r\n            $box.each(function(){\r\n\r\n                var $this = $(this);\r\n                var index = $this.siblings('.scroll-sticky').index('.scroll-sticky');\r\n                var offset = $this.offset().top - 400;\r\n\r\n                if( st >= offset ){\r\n                    $title.eq(index).addClass('on');\r\n                } else {\r\n                    $title.eq(index).removeClass('on');\r\n                }\r\n\r\n            });\r\n\r\n            \r\n\r\n        });\r\n\r\n        \r\n    };\r\n\r\n    //푸터 셀렉트박스\r\n    var footerSelect = function(){\r\n\r\n        var $select = $('.common-footer .select');\r\n        var $selectBtn = $('.common-footer .select button');\r\n        var $box = $('.common-footer .select ul');\r\n        var $option = $('.common-footer .select a');\r\n        var $linkBtn = $('.common-footer .link-btn');\r\n\r\n\r\n        $selectBtn.on('click',function(){\r\n\r\n            if( $box.hasClass('on') ){\r\n\r\n                $box.removeClass('on');\r\n                $select.css('height',40);\r\n\r\n            } else {\r\n\r\n                $box.addClass('on');\r\n                $select.css('height',420);\r\n\r\n            }\r\n        });\r\n\r\n        $option.on('click',function(e){\r\n            \r\n            e.preventDefault();\r\n\r\n            var $this = $(this);\r\n            var text = $this.text();\r\n            var val = $this.attr('data-val');\r\n\r\n            $box.removeClass('on');\r\n            $select.css('height',40);\r\n            $selectBtn.text(text);\r\n            $linkBtn.attr('href',val)\r\n        });\r\n    };\r\n\r\n    //TOP 버튼\r\n    var topBtn = function(){\r\n\r\n        var $btn = $('.top-btn button');\r\n\r\n        $win.on('scroll', function(){\r\n\r\n            var st = $win.scrollTop();\r\n\r\n            if ( st >= 1){\r\n                $btn.fadeIn(500);\r\n            } else {\r\n                $btn.fadeOut(500);\r\n            }\r\n        });\r\n\r\n        $btn.on('click', function(){\r\n\r\n            var offset = $html.offset().top;\r\n\r\n            $html.stop().animate({ scrollTop : offset }, 500);;\r\n        });\r\n\r\n    };\r\n\r\n    //실행\r\n    gnbActive();\r\n    mainSlider();\r\n    brandTab();\r\n    reruitSlider();\r\n    stickyScroll();\r\n    footerSelect();\r\n    topBtn();\r\n});\r\n\r\n//실행\r\n$(init);"]}